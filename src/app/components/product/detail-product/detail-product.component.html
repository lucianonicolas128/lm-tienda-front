<app-header></app-header>

<div class="container" *ngIf="product">
    <!--Section: Content-->
    <section class="text-center">

        <!-- Section heading -->
        <!-- <h3 class="font-weight-bold mb-5 mt-5">Detalle del producto</h3> -->

        <div class="row mt-5 mb-5 pt-3">

            <!-- Columna izquierda foto -->
            <div class="col-lg-7">
                <!--Carousel Wrapper-->
                <div id="carousel-thumb1" class="carousel slide carousel-fade carousel-thumbnails mb-5 pb-4"
                    data-ride="carousel">

                    <!--Slides-->
                    <div class="carousel-inner text-center text-md-left" role="listbox">
                        <div class="carousel-item active">
                            <img src="{{product.image}}" alt="First slide"
                                class="img-fluid image-product pl-2 pr-5 pb-5 product-image">
                        </div>
                    </div>
                    <!--/.Slides-->

                    <!--Thumbnails-->
                    <a class="carousel-control-prev" href="#carousel-thumb1" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carousel-thumb1" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                    <!--/.Thumbnails-->

                </div>
            </div>
            <!-- Columna izquierda foto -->

            <!-- Columna derecha info -->
            <div class="col-lg-5 text-center text-md-left">
                <h2
                    class="h2-responsive text-center text-md-left product-name font-weight-bold dark-grey-text mb-1 ml-xl-0 ml-4">
                    {{product.name}}</h2>

                <!-- Si hay stock -->
                <span class="badge badge-primary product mb-4 ml-xl-0 ml-4">¡EN STOCK!</span>
                <!-- Si está en oferta -->
                <span class="badge badge-secondary product mb-4 ml-2" *ngIf="product.offer">OFERTA</span>

                <hr>
                <!-- Precio del producto -->
                <h2 class="h2-responsive text-center text-md-left mb-5 ml-xl-0 ml-4">
                    <span class="red-text font-weight-bold">
                        <!-- Si el producto está en oferta -->
                        <span *ngIf="product.offer">
                            <strong>$ {{product.offer}}</strong>
                            <span class="grey-text ml-1">
                                <small>
                                    <s>$ {{product.price}}</s>
                                </small>
                            </span>
                        </span>
                        <!-- Si el producto no está en oferta -->
                        <span *ngIf="!product.offer">
                            <strong>$ {{product.price}}</strong>
                        </span>

                    </span>
                </h2>

                <!-- Description -->
                <div class="font-weight-normal mb-4">
                    <p class="ml-xl-0 ml-4">{{product.description}}</p>
                </div>

                <hr>

                <!-- Muestra talles disponibles -->
                <!-- <p class="grey-text">Talles disponibles: <br></p>
                <div class="form-row mb-5 mx-3">
                    <div class="row text-center">
                        <div *ngFor="let talle of tallesAndStock" class="mr-2 pr-1">
                            <a class="badge badge-info">{{talle}}</a>
                        </div>
                    </div>
                </div> -->


                <!-- <p class="grey-text mt-5">Selecciona un Talle</p>
                <div class="row">

                    <div class="col text-left mt-0">
                        <div class="row">

                            <select class="form-control browser-default custom-select " type="spinner" id="talle"
                                required>

                                <option value="-- Añadir categoría --">-- Talle --</option>
                                <option value="{{talle}}" name="category" *ngFor="let talle of tallesAndStock">
                                    {{talle}}
                                </option>
                            </select>
                        </div>
                    </div>

                </div> -->

                <button class="btn btn-primary btn-rounded mt-0 col" (click)="addToCart()">
                    <i class="fas fa-cart-plus mr-2" aria-hidden="true"></i> Agregar al carrito
                </button>
            </div>
            <!-- Columna derecha info -->

        </div>

    </section>
    <!--Section: Content-->
</div>

<!-- TOAST -->
<div class="toast fade show " *ngIf="status == 'success'">

    <div class="toast fade show mb-2" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong class="mr-auto">Mensaje</strong>
            <small>11 mins ago</small>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                <span aria-hidden="true">×</span>
            </button>
        </div>
        <div class="toast-body">
            Producto agregado al carrito!
            <a [routerLink]="['/cart']">Puedes verlo aquí.</a>
        </div>
    </div>

</div>
<!-- TOAST -->